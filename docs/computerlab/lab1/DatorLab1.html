<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mattias Villani">
<meta name="dcterms.date" content="2023-07-24">

<title>STM - Statistik och dataanalys I, 15 hp</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../..//misc/favicons/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../misc/SU_logo_small.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">STM</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">STM</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../coding.qmd">
 <span class="menu-text">programming</span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sections</h2>
   
  <ul>
  <li><a href="#introduktion" id="toc-introduktion" class="nav-link active" data-scroll-target="#introduktion">Introduktion</a></li>
  <li><a href="#anv√§nda-r-som-en-minir√§knare" id="toc-anv√§nda-r-som-en-minir√§knare" class="nav-link" data-scroll-target="#anv√§nda-r-som-en-minir√§knare">1. Anv√§nda R som en minir√§knare</a></li>
  <li><a href="#anv√§nda-variabler-i-r" id="toc-anv√§nda-variabler-i-r" class="nav-link" data-scroll-target="#anv√§nda-variabler-i-r">2. Anv√§nda variabler i R</a></li>
  <li><a href="#organisera-dig-med-filmappar" id="toc-organisera-dig-med-filmappar" class="nav-link" data-scroll-target="#organisera-dig-med-filmappar">3. Organisera dig med filmappar</a></li>
  <li><a href="#anv√§nda-editorn-source-f√∂r-att-spara-kod" id="toc-anv√§nda-editorn-source-f√∂r-att-spara-kod" class="nav-link" data-scroll-target="#anv√§nda-editorn-source-f√∂r-att-spara-kod">4. Anv√§nda Editorn (Source) f√∂r att spara kod</a></li>
  <li><a href="#st√§lla-in-arbetsmappen-working-directory-i-r" id="toc-st√§lla-in-arbetsmappen-working-directory-i-r" class="nav-link" data-scroll-target="#st√§lla-in-arbetsmappen-working-directory-i-r">5. St√§lla in arbetsmappen (working directory) i R</a></li>
  <li><a href="#l√§sa-in-data-fr√•n-fil" id="toc-l√§sa-in-data-fr√•n-fil" class="nav-link" data-scroll-target="#l√§sa-in-data-fr√•n-fil">6. L√§sa in data fr√•n fil</a></li>
  <li><a href="#analysera-data" id="toc-analysera-data" class="nav-link" data-scroll-target="#analysera-data">7. Analysera data</a></li>
  <li><a href="#n√•gra-extra-tips" id="toc-n√•gra-extra-tips" class="nav-link" data-scroll-target="#n√•gra-extra-tips">8. N√•gra extra tips</a></li>
  <li><a href="#datastrukturer" id="toc-datastrukturer" class="nav-link" data-scroll-target="#datastrukturer">9. Datastrukturer</a></li>
  <li><a href="#funktioner" id="toc-funktioner" class="nav-link" data-scroll-target="#funktioner">10. Funktioner</a></li>
  <li><a href="#tre-dialekter-av-r" id="toc-tre-dialekter-av-r" class="nav-link" data-scroll-target="#tre-dialekter-av-r">11. Tre dialekter av R</a></li>
  <li><a href="#sammanfattning" id="toc-sammanfattning" class="nav-link" data-scroll-target="#sammanfattning">12. Sammanfattning</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Statistik och dataanalys I, 15 hp</h1>
<p class="subtitle lead">Datorlaboration 1</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Mattias Villani </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 24, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<hr>
<section id="introduktion" class="level2">
<h2 class="anchored" data-anchor-id="introduktion">Introduktion</h2>
<blockquote class="blockquote">
<p>I den h√§r f√∂rsta datorlabben kommer ni bekanta er med programmeringsspr√•ket <strong>R</strong> och dess arbetsmilj√∂ <strong>RStudio</strong>.</p>
</blockquote>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Ta det lugnt
</div>
</div>
<div class="callout-body-container callout-body">
<blockquote class="blockquote">
<p>Det √§r <strong>m√•nga</strong> nya saker som presenteras i den h√§r datorlaborationen, s√• var beredd p√• att inte allt kommer att sjunka in direkt. F√∂rs√∂k att ta dig igenom hela texten, och √∂vningarna. Du kan sen √•terkomma till denna labb p√• andra datorlaborationer f√∂r att repetera de delar du beh√∂ver.<br> Ok, ta ett djupt andetag s√• b√∂rjar vi.</p>
</blockquote>
</div>
</div>
<div class="callout-info callout callout-style-default no-icon callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Instruktioner
</div>
</div>
<div class="callout-body-container callout-body">
<p>üí™ Avsnitt med den h√§r symbolen √§r uppgifter d√§r ni ska g√∂ra n√•got.</p>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Jobba med R p√• egen dator
</div>
</div>
<div class="callout-body-container callout-body">
<p>Om du inte sitter i en datorsal p√• Campus m√•ste du f√∂rst installera R och sen RStudio. Se videon <a href="https://youtu.be/TFGYlKvQEQ4">installera R och Rstudio</a> f√∂r instruktioner.</p>
</div>
</div>
<p>F√∂r att starta RStudio letar du bara upp programmet p√• din dator och klickar p√• startikonen. N√§r RStudio startas upp kommer det att se ut s√• h√§r (kan se olika ut p√• olika datorer):</p>
<p><img src="RstudioPanes.png" class="img-fluid"></p>
<p>De olika delarna av RStudio kallas ofta f√∂r <strong>Panes</strong>. Vi kommer g√• igenom dessa delar vartefter, men vi b√∂rjar med att utforska <strong>Console</strong>, √§ven kallad <strong>terminalen</strong>.</p>
</section>
<section id="anv√§nda-r-som-en-minir√§knare" class="level2">
<h2 class="anchored" data-anchor-id="anv√§nda-r-som-en-minir√§knare">1. Anv√§nda R som en minir√§knare</h2>
<p>Ett bra s√§tt f√∂r att v√§nja sig vid R √§r att anv√§nda R som en slags minir√§knare. I f√∂nstret <strong>Console</strong> i RStudio (vanligtvis nere till v√§nster) kan man skriva olika typer av <strong>kommandon</strong> som skickas till R f√∂r ber√§kning:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="RStudioConsole.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>Tecknet <code>&gt;</code> kallas f√∂r <strong>kommandoprompt</strong> (eller bara <strong>prompt</strong>) och √§r R‚Äôs s√§tt att tala om att det v√§ntar p√• att ett nytt kommando ska skrivas in (vid det blinkande strecket). Vi s√§ger att vi ‚Äòskriver in n√•got p√• prompten‚Äô.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Multiplikation och division
</div>
</div>
<div class="callout-body-container callout-body">
<p>R anv√§nder <code>*</code> f√∂r multiplikation och <code>/</code> f√∂r division. Potenser (upph√∂jt till) skrivs med tecknet <code>^</code>, s√• 3^2 √§r 9. Du skriver tecknet <code>^</code> genom att trycka <code>Shift</code> + tangent till v√§nster om <code>Enter</code>. Sen m√•ste du trycka Mellanslag/Space innan du skriver exponenten, annars blir det 3¬≤ och det fungerar inte i R.</p>
</div>
</div>
<section id="uppgift-1.1" class="level4">
<h4 class="anchored" data-anchor-id="uppgift-1.1">üí™ Uppgift 1.1</h4>
<p>Prova att skriva 2+2 efter det nedersta <code>&gt;</code> tecknet i <strong>Console</strong> och sedan trycka p√• <code>Enter</code>-tangenten. R b√∂r svara (<strong>returnera</strong>) med talet 4.</p>
</section>
<section id="uppgift-1.2" class="level4">
<h4 class="anchored" data-anchor-id="uppgift-1.2">üí™ Uppgift 1.2</h4>
<p>Ber√§kna 3¬≤ (3 upph√∂jt i 2) i Console. [l√§s informationsrutan ovanf√∂r!]</p>
</section>
<section id="uppgift-1.3" class="level4">
<h4 class="anchored" data-anchor-id="uppgift-1.3">üí™ Uppgift 1.3</h4>
<p>Skriv in talet (2+3)/(2+5) i Console och se att R svarar med 0.7142857.</p>
</section>
<section id="uppgift-1.4" class="level4">
<h4 class="anchored" data-anchor-id="uppgift-1.4">üí™ Uppgift 1.4</h4>
<p>Du k√∂per aktier f√∂r 100 kr. Avkastningen f√∂rsta √•ret √§r 10%. Anv√§nd R f√∂r att ber√§kna v√§rdet p√• ditt aktiekapital efter ditt f√∂rsta √•r som aktiesparare, dvs skriv in 100*1.1 och se R returnera 110.</p>
</section>
</section>
<section id="anv√§nda-variabler-i-r" class="level2">
<h2 class="anchored" data-anchor-id="anv√§nda-variabler-i-r">2. Anv√§nda variabler i R</h2>
<p>Du √§r nu inne p√• ditt andra √•r som aktiesparare. Avkastningen √•r 2 √§r 6%. Hur mycket aktiekapital har du efter √•r 2? Vi kan ber√§kna detta genom 100*1.1*1.06 i Console och f√• svaret 116.6 kr. Men finns det n√•got s√§tt att √•teranv√§nda v√•r tidigare ber√§kning 100*1.1 = 110 kr s√• vi bara beh√∂ver multiplicera detta tal med √∂kningen 1.06 f√∂r √•r 2?</p>
<p>Vi kan l√∂sa detta genom att spara undan v√•r f√∂rsta ber√§kning i en <strong>variabel</strong>. Vi kan ge denna variabel (n√§stan) vilket namn vi vill. Jag kommer kalla den f√∂r <code>kapital</code> och b√∂rjar med att s√§tta v√§rdet p√• variabeln <code>kapital</code> till 100, det ursprungliga kapitalet. Vi skriver <code>kapital = 100</code> i Console. Vi kan sen testa att R nu faktiskt minns att kapitalet √§r 100 genom att bara skriva variabelns namn f√∂ljt av <code>Enter</code> i kommandoprompten i Console:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="kapital100.png" class="img-fluid figure-img" width="400"></p>
</figure>
</div>
<p>R skriver sn√§llt ut det v√§rde (100) som jag tilldelade variabeln <code>kapital</code>.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Spr√•kbruk
</div>
</div>
<div class="callout-body-container callout-body">
<p>vi s√§ger att vi <strong>tilldelar</strong> <strong>variabel</strong> <code>kapital</code> <strong>v√§rdet</strong> <code>100</code>. Lite mer slarvigt s√§ger vi: ‚Äòvi s√§tter <code>kapital</code> till 100‚Äô.</p>
</div>
</div>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Se upp!
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vi kan √•terkalla v√§rdet 100 fr√•n variabeln <code>kapital</code> n√§r som helst. Men om du st√§nger ner RStudio och sen startar om programmet (eller om RStudio l√•ser sig) s√• minns inte R l√§ngre v√§rdet p√• <code>kapital</code>. R minns faktiskt inte ens att det fanns n√•got som hette <code>kapital</code> och kommer att klaga om du skriver <code>kapital</code> p√• prompten f√∂ljt av <code>Enter</code>. R och RStudio minns bara variabeln inom en <strong>session</strong>, dvs tills du avslutar RStudio. Om man vill spara data mellan olika sessioner m√•ste man spara ner variablerna p√• datorns disk (eller p√• n√•gon lagring p√• internet). Mer om detta senare.</p>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Learn the rules so you know how to break them
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ist√§llet f√∂r att skriva <code>kapital = 100</code> s√• kan vi lika g√§rna skriva <code>kapital &lt;- 100</code> , d√§r symbolen <code>&lt;-</code> skrivs med de tv√• tecknen <code>&lt;</code> (mindre √§n) som finns l√•ngt ner till v√§nster p√• tangentbordet och <code>-</code> (bindestreck). Att skriva variabeltilldelningar med <code>&lt;-</code> √§r egentligen den rekommenderade varianten i R, men jag tycker det √§r fult och f√∂redrar <code>=</code>. ü§∑</p>
</div>
</div>
<p>Vi kan nu ber√§kna kapitalet √•r 1 genom att multiplicera variabeln <code>kapital</code> med talet 1.1</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="KapitalYear1.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>Vi kan ocks√• <strong>skriva √∂ver</strong> v√§rdet i variabeln <code>kapital</code> med ett nytt v√§rde. Vi kanske vill att <code>kapital</code> alltid ska inneh√•lla v√§rdet p√• det aktiekapital som jag har just nu. L√•t oss f√∂rst √§ndra v√§rdet p√• <code>kapital</code> till v√§rdet efter √•r 1:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="kapitaluppdatering.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>Notera speciellt raden <code>kapital = kapital*1.1</code>. R l√§ser detta som:</p>
<blockquote class="blockquote">
<p>Jag (R) ska plocka fram v√§rdet 100 ur variabeln <code>kapital</code>. Sen ska jag multiplicera det med 1.1 f√∂r att f√• talet 110. Det talet 110 stoppar jag sen tillbaka i variabeln <code>kapital</code>.</p>
</blockquote>
<p>V√§rdet p√• variabeln <code>kapital</code> √§r nu allts√• 110.</p>
<p>Det fina med det h√§r att vi nu kan forts√§tta att √§ndra variabeln kapital efter att ett ytterligare √•r har g√•tt, dvs v√§rdet p√• ditt aktiekapital efter √•r 2:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="kapiteluppdatering2.png" class="img-fluid figure-img" width="400"></p>
</figure>
</div>
<p>Variabeln <code>kapital</code> √§r nu 116.6 och du √§r redo f√∂r din kommande avkastning under √•r 3.</p>
<section id="uppgift-2.1" class="level4">
<h4 class="anchored" data-anchor-id="uppgift-2.1">üí™ Uppgift 2.1</h4>
<p>Avkastningen √•r 3 blev tyv√§rr minus 4%. Uppdatera variabeln <code>kapital</code> ovan s√• att den visar att v√§rdet p√• kapitalet efter √•r 3 √§r 111.936 kr. Notera att en minskning med 4% inneb√§r att vi m√•ste multiplicera med 0.96 (1-0.04). Multiplikation med tal mindre √§n 1 leder till en minskning av kapitalet.</p>
</section>
</section>
<section id="organisera-dig-med-filmappar" class="level2">
<h2 class="anchored" data-anchor-id="organisera-dig-med-filmappar">3. Organisera dig med filmappar</h2>
<p>Det √§r viktigt att ha ordning p√• sina filer p√• datorn och kunna tala om f√∂r R var dina filer finns s√• R kan l√§sa dem. Vi rekommenderar att du skapar en mapp/folder f√∂r varje kurs du l√§ser. Spara inte alla filer p√• datorns skrivbord eller i mappen <strong>Downloads</strong> eller liknande. G√• till filhanteringsprogrammet p√• din dator och skapa mappen <strong>SDA1</strong>. S√• h√§r:</p>
<ul>
<li><p><img src="windows.png" class="img-fluid" width="20"> Windows: Starta programmet <strong>File Explorer</strong> och navigera (klicka) till den mapp d√§r du vill skapa din kursmapp. Skapa en ny mapp med namnet <strong>SDA1</strong>.</p></li>
<li><p><img src="mac.png" class="img-fluid" width="20">Mac: Starta programmet <strong>Finder</strong> och navigera (klicka) till den mapp d√§r du vill skapa din kursmapp. Skapa en ny mapp med namnet <strong>SDA1</strong>.</p></li>
<li><p><img src="linux.png" class="img-fluid" width="20"> Linux: Starta programmet <strong>Nautilus</strong> (om du anv√§nder Ubuntu, annars kan du prova att s√∂ka p√• ordet files om din Linux-distribution anv√§nder en annan filhanterare). Navigera (klicka) till den mapp d√§r du vill skapa din kursmapp. Skapa en ny mapp med namnet <strong>SDA1</strong>.</p></li>
</ul>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Svenska √§r fint, men inte i filnamn
</div>
</div>
<div class="callout-body-container callout-body">
<pre><code>Inga √•√§√∂!
Anv√§nd inte √•√§√∂ i namn p√• filmappar eller filer.
Stor risk att du f√•r problem d√•.</code></pre>
</div>
</div>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Dina filer kommer f√∂rsvinna
</div>
</div>
<div class="callout-body-container callout-body">
<p>Om du skapar en mapp p√• en dator i datorsalen s√• kommer den tyv√§rr inte att finnas kvar n√§sta g√•ng du loggar in p√• annan dator, eller kanske inte ens p√• samma dator. Vi har f√∂rslagit till IT-avdelningen p√• SU att ordna studentkonton p√• datorerna med individuella lagringsutrymmen som automatiskt dyker upp som en mapp n√§r ni loggar in i datorsalarna. Men i dagsl√§get finns tyv√§rr inte detta s√• man f√•r sj√§lv spara ner sina filer p√• n√§tet (t ex med en tj√§nst som Dropbox eller OneDrive). Som student vid SU har man tillg√•ng till 1TB lagring i OneDrive, se <a href="https://www.su.se/medarbetare/it/it-tj%C3%A4nster/office-365-f%C3%B6r-studenter">denna sida</a> f√∂r mer info om hur man aktiverar detta. Ett annat s√§tt √§r att alltid b√§ra med sig ett USB-minne och skapa SDA1 mappen p√• den.</p>
</div>
</div>
<section id="uppgift-3.1" class="level4">
<h4 class="anchored" data-anchor-id="uppgift-3.1">üí™ Uppgift 3.1</h4>
<p>Skapa mappen <strong>SDA1</strong> p√• din dator.</p>
</section>
</section>
<section id="anv√§nda-editorn-source-f√∂r-att-spara-kod" class="level2">
<h2 class="anchored" data-anchor-id="anv√§nda-editorn-source-f√∂r-att-spara-kod">4. Anv√§nda Editorn (Source) f√∂r att spara kod</h2>
<p>Skriva kommandon direkt i Console har en nackdel: R minns inte kommandona vi har skrivit i en tidigare Session (innan vi st√§ngde ner RStudio). Varje g√•ng vi startar upp RStudio m√•ste vi skriva om v√•ra kommandon om vi vill forts√§tta v√•ra ber√§kningar d√§r vi slutade senast. üò§ (Det √§r inte riktigt sant, fliken <strong>History</strong> i √∂vre h√∂gra delen av RStudio minns faktiskt gamla kommandon, men det √§r opraktiskt att f√∂rlita sig p√• <strong>History</strong>).</p>
<p>Vi skulle vilja skriva alla v√•ra kommandon i en textfil som vi kan spara p√• datorns h√•rddisk (i din fina SDA1 mapp!) och sen bara k√∂ra om alla kommandon in en senare Session. Source <strong>Editorn</strong> in √∂vre v√§nstra delen av RStudio anv√§nds f√∂r just detta.</p>
<p>Om vi klickar p√• menyn <u><strong>F</strong></u><strong>ile</strong> och sen under menyn <u><strong>N</strong></u><strong>ew File</strong> och slutligen p√• <u><strong>R</strong></u> <strong>Script</strong> s√• √∂ppnas en tom textfil i <strong>Editorn</strong> som heter <em>Untitled1</em> eller n√•got liknande. H√§r kan vi skriva in kommandon som vi vill spara f√∂r framtida sessioner. Vi kan t ex skriva in v√•ra ber√§kningar av aktiesparandet:</p>
<p><img src="kapitalsource.png" class="img-fluid"></p>
<p>Vi kan spara filen genom att klicka p√• menyn <u><strong>F</strong></u><strong>ile</strong> och sen p√• <u><strong>S</strong></u><strong>ave</strong> och sen navigera dig till mappen <strong>SDA1</strong> genom att klicka i rutan som kommer upp. D√∂p filen till <strong>stock</strong> eller n√•got annat namn som talar om vad filen inneh√•ller (aktie heter stock p√• engelska). Klicka p√• Save/Spara. Filen kommer automatiskt att f√• fil√§ndelsen .R, dvs filen kommer allts√• heta <strong>stock.R</strong> s√• RStudio vet att det √§r en fil men R kommandon. Ett samling kommandon kallas ocks√• f√∂r <strong>kod</strong> och vi s√§ger att vi arbetar med en <strong>kodfil</strong> i editorn. Vi kan ocks√• s√§ga att vi har skrivit ett <strong>program</strong>.</p>
<p>Vi kan k√∂ra alla kommandon i filen stock.R genom att klicka p√• <code>Source</code> - knappen uppe i h√∂gra h√∂rnet av editorn:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="SourceButton.png" class="img-fluid figure-img" width="400"></p>
</figure>
</div>
<p>N√§r s√§ger att vi ‚Äòk√∂r kommandon‚Äô menar vi att datorn utf√∂r (exekverar) v√•ra kommandon, rad f√∂r rad. Man kan se det som <code>Source</code>-knappen skickar kommandona till Console s√• vi slipper skriva in dem d√§r. Vi kan nu skriva <code>kapital</code> i Console f√∂r att se svaret 111.936.</p>
<p>N√§r man arbetar med koden vill man ofta k√∂ra ett kommando i taget, och inte alla p√• en g√•ng. Det kan man g√∂ra genom att placera mark√∂ren (det blinkande strecket) p√• den rad som vill k√∂ra (<strong>exekvera</strong>) och sen klicka p√• <code>Run</code>-knappen i uppe i h√∂gre h√∂rnet av editorn. Du beh√∂ver inte markera koden p√• raden, det r√§cker att bara placera mark√∂ren n√•gonstans p√• raden. Kortkommandot Ctrl + Enter g√∂r samma sak.</p>
<p>Ofta st√§ller man mark√∂ren p√• den f√∂rsta raden i koden och klickar p√• <code>Run</code>-knappen om och om igen f√∂r att k√∂ra varje rad, en efter en. Allt som k√∂rs, t ex olika variabler som <code>kapital</code>, finns tillg√§ngligt i Console, om man t ex vill unders√∂ka om variabeln verkligen har f√•tt det v√§rde som det var meningen att det skulle f√•.</p>
<p>Man kan ocks√• k√∂ra flera rader kod p√• en g√•ng genom att markera raderna och trycka p√• <code>Run</code>-knappen.</p>
<section id="uppgift-4.1" class="level4">
<h4 class="anchored" data-anchor-id="uppgift-4.1">üí™ Uppgift 4.1</h4>
<p>K√∂r hela filen stock.R genom att anv√§nda <code>Source</code>-knappen. Unders√∂k vilket v√§rde variabeln <code>kapital</code> i Console har efter att filen k√∂rts genom att skriva <code>kapital</code> f√∂ljt av Enter.</p>
</section>
<section id="uppgift-4.2" class="level4">
<h4 class="anchored" data-anchor-id="uppgift-4.2">üí™ Uppgift 4.2</h4>
<p>Du kanske m√§rkte att inte mycket h√§nde i Console n√§r du klickade p√• <code>Source</code> - knappen. Det mest h√§nde liksom bakom scenen, d√§r kommandona i Editorn skickades √∂ver till Console. Vi skulle kanske vilja att v√•r kod skrev upp <code>kapital</code> i Console efter att alla r√§nta-p√•-r√§nta ber√§kningar gjorts. Prova att l√§gga till en rad i slutet av din kod med kommandot <code>print</code> och variabelns namn som du √§r intresserad av, dvs <code>print(kapital)</code>. Klicka p√• <code>Source</code> - knappen igen och verifiera att v√§rdet 111.936 skrivs ut i Console.</p>
</section>
<section id="uppgift-4.3" class="level4">
<h4 class="anchored" data-anchor-id="uppgift-4.3">üí™ Uppgift 4.3</h4>
<p>K√∂r kommandot p√• rad 1 i stock.R genom att anv√§nda <code>Run</code>-knappen. Unders√∂k vilket v√§rde variabeln <code>kapital</code> i Console. Upprepa detta f√∂r de resterande raderna i stock.R.</p>
</section>
</section>
<section id="st√§lla-in-arbetsmappen-working-directory-i-r" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="st√§lla-in-arbetsmappen-working-directory-i-r">5. St√§lla in arbetsmappen (working directory) i R</h2>
<p>Hittills har vi skrivit alla kommandon och tal (t ex <code>kapital = 100</code>), dvs vi har matat in <strong>data</strong> sj√§lva. Det √§r naturligtvis klumpigt om man har mycket data. Vi vill kunna l√§sa in hela <strong>datamaterialet</strong> fr√•n en fil. H√§r √§r en Excel-fil med data fr√•n 5 √•rs investingar i aktier:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ExcelTabellKapital.png" class="img-fluid figure-img" width="400"></p>
</figure>
</div>
<p>Notera att avkastningen (<strong>returns</strong>) anges i procent och √§r satt till noll under 2018 eftersom vi k√∂pte aktierna precis i b√∂rjan av √•r 2019 (s√§ger vi) och allts√• inte fick n√•gon avkastning under √•r 2018.</p>
<p>Excel-filen har jag d√∂pt till <em>stock.xlsx</em>, men den kan d√∂pas till precis vad som helst.</p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Variabelnamn som man ska undvika
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vi anv√§nder engelska namn p√• kolumnerna. √Ñven om svenska tecken √•√§√∂ g√•r att anv√§nda i kod, √§r det √§nd√• b√§st att undvika dem genom att skriva p√• engelska. Du kan inte anv√§nda mellanslag (space) i variabelnamn, och variabelnamn f√•r inte heller b√∂rja med siffror. Det finns ocks√• <a href="https://rdrr.io/r/base/Reserved.html">vissa ord</a> som √§r reserverade och som inte f√•r/ska anv√§ndas som variabelnamn. Slutligen: R skiljer p√• sm√• och stora bokst√§ver. Variabeln <code>kapital</code> √§r allts√• inte samma som <code>Kapital</code>.</p>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
What‚Äôs in a name? Mer √§n du tror!
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ofta vill man ha ett variabelnamn som √§r l√§tt att f√∂rst√• vad variabeln inneh√•ller. Det √§r superviktigt f√∂r att andra ska kunna f√∂rst√• ens kod, men framf√∂rallt f√∂r att du sj√§lv ska kunna f√∂rst√• din egen kod om en vecka! ü•¥ Anv√§nd <code>_</code> (underscore) eller <code>.</code> (punkt) f√∂r att dela upp ord om det beh√∂vs. T ex <code>my_pretty_little_variable = 100</code>.</p>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://doorshakespeare.com/general/whats-in-a-name/"><img src="vintage-romeo-and-juliet-poster.jpg" class="img-fluid figure-img" width="60"></a></p>
</figure>
</div>
</div></div><p>Om R ska kunna l√§sa in data fr√•n filen stock.xlsx s√• m√•ste vi tala om <em>var</em> filen finns p√• v√•r dator. Enklast √§r d√• att st√§lla in Rs <strong>working directory</strong>, dvs det standardst√§lle d√§r R letar efter filer i den p√•g√•ende sessionen. Det finns tv√• s√§tt att g√∂ra detta, varav vi endast rekommenderar det f√∂rsta om man √§r absolut nyb√∂rjare. R√§tt snart b√∂r du l√§ra dig att anv√§nda det andra s√§ttet, som √§r smidigare i l√§ngden.</p>
<ol type="1">
<li><strong>Working directory</strong> √§r den mapp som R kommer leta efter filer i. √Ñndra din arbetsmapp (<strong>working directory</strong>) i R till samma mapp <strong>SDA1</strong> i <strong>Documents</strong> genom att v√§lja menyn <u><strong>S</strong></u><strong>ession</strong> och sen <strong>Set <u>W</u>orking Directory</strong> och slutligen <u><strong>C</strong></u><strong>hoose Directory‚Ä¶</strong> och sedan klicka dig fram till mappen SDA1.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="setwd_menu.png" class="img-fluid figure-img" width="359"></p>
</figure>
</div>
<ol start="2" type="1">
<li><p>F√∂r att slippa att klicka sig fram via menyer hela tiden s√• √§r det praktiskt att √§ndra working directory i b√∂rjan av den kodfil som man jobbar med. D√• kan man bara k√∂ra den kodfilen och working directory st√§lls in automatiskt. Kommandot <code>setwd</code> g√∂r samma sak som punkten 1 gjorde via menyerna. H√§r m√•ste vi dock veta <strong>s√∂kv√§gen</strong> (<strong>path</strong>) till mappen, dvs datorns s√§tt att hitta till mappen <strong>SDA1</strong>. S√§ttet att skriva s√∂kv√§gar p√• skiljer sig √•t p√• Windows/Mac/Linux. I dessa exempel antar jag att din SDA1 mapp √§r placerad i mappen Documents.</p>
<ul>
<li><p><img src="mac.png" class="img-fluid" width="20"> P√• en Mac skriver vi kommandot: <code>setwd('/Users/username/Documents/SDA1')</code> d√§r <code>username</code> ska ers√§ttas med ditt anv√§ndnamn p√• din Mac (namnet som kommer upp n√§r du loggar in p√• datorn). Notera de sm√• ‚Äòblipparna‚Äô kring filv√§gen i <code>setwd</code> kommandot.</p></li>
<li><p><img src="windows.png" class="img-fluid" width="15"> P√• en Windows-dator skriver vi kommandot <code>setwd('C:/Documents/SDA1')</code>. Notera de sm√• ‚Äòblipparna‚Äô kring filv√§gen i <code>setwd</code> kommandot. [Windows-s√∂kv√§gar skrivs vanligtvis med backslash <code>\</code>. I RStudio skriver man √§nd√• <code>/</code> f√∂r att matcha med Mac och Linux].</p></li>
<li><p><img src="linux.png" class="img-fluid" width="20"> P√• en Linux-dator skriver vi kommandot <code>setwd('/home/username/Documents/SDA1')</code> d√§r <code>username</code> ska ers√§ttas med ditt anv√§ndnamn som anv√§nder n√§r du loggar in.</p></li>
</ul></li>
</ol>
<section id="uppgift-5.1" class="level4">
<h4 class="anchored" data-anchor-id="uppgift-5.1">üí™ Uppgift 5.1</h4>
<p>St√§ll in din <strong>SDA1</strong> mapp som working directory i RStudio. Kontrollera att du lyckades genom att skriva kommandot <code>getwd()</code> i Console, som b√∂r skriva ut s√∂kv√§gen till din SDA1 mapp. Nu har du talat om f√∂r R att den ska leta efter filer i din kursmapp <strong>SDA1</strong>!</p>
</section>
</section>
<section id="l√§sa-in-data-fr√•n-fil" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="l√§sa-in-data-fr√•n-fil">6. L√§sa in data fr√•n fil</h2>
<p>Vi vill nu l√§sa in data fr√•n Excelfilen stock.xlsx. Du kan ladda ner den filen <a href="https://github.com/StatisticsSU/SDA1/raw/main/datorlab/lab1/stock.xlsx">h√§r</a>. Beroende p√• din dator s√• kommer en av tv√• saker h√§nda:</p>
<ol type="1">
<li><p>filen stock.xlsx hamnar automatiskt i mappen <strong>Downloads</strong> (eller liknande) p√• din dator. Du f√•r d√• kopiera eller flytta filen till din working directory (din SDA1 mapp) genom att anv√§nda datorns filhanterare.</p></li>
<li><p>du f√•r v√§lja var du vill spara ner filen. Klicka dig fram till din working directory (din SDA1 mapp) och spara filen d√§r.</p></li>
</ol>
<p>R kommer nu att hitta filen och vi √§r redo att skriva kommandot som l√§ser in filen. Eftersom det √§r f√∂rsta g√•ngen du l√§ser in en Excel-fil i R beh√∂ver du g√∂ra lite grundjobb. Vi ska g√∂ra tre steg:</p>
<ol type="1">
<li><strong>Installera R-paketet</strong> <code>openxlsx</code>. R kommer med ett antal baskommandon f√∂rinstallerat. T ex har vi redan anv√§nt <strong>funktionen</strong> <code>setwd()</code> f√∂r att tala om f√∂r R vilken mapp som √§r v√•r working directory. Men m√•nga kommandon/funktioner i R m√•ste laddas in via s k <strong>R-paket</strong>. Det finns R-paket f√∂r n√§stan allt man vill g√∂ra: l√§sa in data, g√∂r olika typer av statistiska analyser etc etc. Paketet <code>openxlsx</code> √§r specialiserat p√• att l√§sa in Excel-filer i R. F√∂r att installera paketet k√∂r vi kommandot <code>install.packages('openxlsx')</code> antingen genom att skriv in det i en kodfil och trycka p√• <code>Run</code> eller genom att skriva det direkt i terminalen. Efter det kommer R att skriva ut en massa mumbo-jumbo i Console som beskriver installationen. Paket kan ta n√•gon minut eller mer f√∂r att installera. Om inga fel uppst√•r brukar installationsmeddelandet avslutas med n√•got liknande:<br>
<code>DONE (openxlsx)</code><br>
<code>The downloaded source packages are in</code><br>
f√∂ljt av n√•gon kryptisk s√∂kv√§g till st√§llet p√• din dator d√§r paketet har blivit installerat.<br>
<br>
Installation av paket beh√∂vs bara g√∂ras en g√•ng p√• din dator. Du beh√∂ver inte installera om n√§sta g√•ng du startar upp RStudio p√• nytt.</li>
</ol>

<div class="no-row-height column-margin column-container"><div class="">
<center>
<p><img src="spotifypure.png" class="img-fluid" width="40"></p>
</center>
<p>Paketet <a href="https://www.rcharlie.com/spotifyr/">spotifyr</a> kan t ex tala om f√∂r dig vilka dina fem mest spelade Spotify-l√•tar √§r. Se sidan <a href="https://rpubs.com/dbecker7/StrangeRThings">StrangeR things</a> f√∂r andra mer eller mindre konstiga paket. Och, ja, det √§r vanligt med ett stort R i namnet p√• R-relaterade saker. N√∂rdaR, du vet.</p>
</div></div><ol start="2" type="1">
<li><p><strong>Ladda R-paketet</strong> <code>openxlsx</code>. Kommandot <code>library(openxlsx)</code> laddar funktionerna i paketet <code>openxlsx</code> till R‚Äôs arbetsminne. F√∂rst efter denna kommando kan vi anv√§nda funktionerna i paketet. Notera att vi beh√∂ver ‚Äòblippar‚Äô kring paketets namn n√§r vi installerar, men inte n√§r vi laddar paketet. Ett paket som laddats in med library finns inte tillg√§ngligt n√§r du start om RStudio. Du m√•ste allts√• skriva <code>library(openxlsx)</code> f√∂r varje ny session d√§r du vill l√§sa in Excel-filer. Det √§r d√§rf√∂r bra att skriva in <code>library(openxlsx)</code> i kodfilen du ska anv√§nda f√∂r att l√§sa in Excel-filer.</p></li>
<li><p>L√§s in data fr√•n Excel-filen genom kommandot/<strong>funktionen</strong> <code>read.xlsx</code>. H√§r hela kommandot (<strong>funktionsanropet</strong>):<br>
<code>stockdata = read.xlsx('stock.xlsx', sheet = 1)</code><br>
Det √§r n√•gra saker att reda ut h√§r. F√∂rst, <code>read.xlsx()</code> √§r en <strong>funktion</strong> vilket betyder att det √§r ett kommando som <strong>g√∂r n√•got</strong> baserat p√• funktionens <strong>input-argument</strong>:</p>
<ul>
<li>Det f√∂rsta argumentet <code>'stock.xlsx'</code> √§r en <strong>textstr√§ng</strong> (den har ‚Äòblippar‚Äô) som talar om f√∂r <code>read.xlsx()</code> <em>vilken</em> Excelfil som ska l√§sas in. Vi beh√∂ver inte s√§ga mer eftersom denna fil ligger i v√•r working directory, som ju R nu k√§nner till.</li>
<li>det andra input-argumentet √§r <code>sheet = 1</code>, vilket s√§ger √•t <code>read.xlsx()</code> att data ligger i det f√∂rsta kalkylbladet i filen stock.xlsx. En Excelfil kan ju har flera kalkylblad, och vill man l√§sa det andra bladet √§ndrar man <code>1</code> till <code>2</code>. (men stock.xlsx har bara ett blad, s√• prova inte detta f√∂r d√• kommer R att klaga).</li>
</ul>
<p>Men vad betyder <code>stockdata =</code> i b√∂rjan av kommandot ovan? Jo, om R ska l√§sa in data till arbetsminnet s√• m√•ste den ge denna data ett namn, vilket jag har valt till <code>stockdata</code> , men du f√•r d√∂pa den till (n√§stan) vad du vill. <code>stockdata</code> √§r en <strong>variabel</strong>, precis som <code>kapital</code> var en variabel tidigare. Variabeln <code>kapital</code> var en enkel form av en variabel som bara inneh√∂ll ett enda <strong>v√§rde</strong>, t ex 100 i b√∂rjan av v√•rt sparande. Variabeln <code>stockdata</code> √§r mer komplex. Den inneh√•ller en hel tabell med v√§rden. S√• kommandot</p>
<p><code>stockdata = read.xlsx('stock.xlsx', sheet = 1)</code></p>
<p>l√§ses allts√• av R som</p>
<blockquote class="blockquote">
<p>L√§s in f√∂rsta kalkylbladet av Excelfilen stock.xlsx till arbetsminnet och spara den inl√§sta tabellen som en tabell i variabeln <code>stockdata</code>.</p>
</blockquote></li>
</ol>
<p>R har lite olika varianter av tabellvariabler. Den viktigaste f√∂r oss p√• den h√§r kursen √§r en s k <code>dataframe</code>. Du kan se att v√•r tabellvariabel <code>stockdata</code> faktiskt √§r en dataframe genom att skriva kommandot <code>class(stockdata)</code> i Console.</p>
<p>N√§r man har l√§st in ett datamaterial √§r det bra att ta en snabbtitt p√• den inl√§sta tabellen f√∂r att se att den blev korrekt inl√§st. Precis som vi gjorde med variabel <code>kapital</code> f√∂r att se dess v√§rde (t ex 100) s√• kan skriva <code>stockdata</code> i Console f√∂r att se dess v√§rde (som ju √§r en tabell). Om man har en tabell med m√•nga rader s√• blir det fort jobbigt att skriva ut alla rader. Kommandot <code>head()</code> √§r d√• praktiskt, som bara skriver ut det f√∂rsta 6 raderna av tabellen. H√§r har vi alla kommandon som kr√§vs f√∂r att ladda in data och skriva ut fint p√• sk√§rmen (f√∂rutom <code>install.packages('openxlsx')</code> som jag antar att du redan har k√∂rt f√∂r att installera paketet).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(openxlsx)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>stockdata <span class="ot">=</span> <span class="fu">read.xlsx</span>(<span class="st">'stock.xlsx'</span>, <span class="at">sheet =</span> <span class="dv">1</span>) <span class="co"># l√§ser in Excel data</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stockdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  year  capital returns
1 2018 100.0000    0.00
2 2019 110.0000    0.10
3 2020 116.6000    0.06
4 2021 111.9360   -0.04
5 2022 117.5328    0.05
6 2023 125.7601    0.07</code></pre>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Kommentarer
</div>
</div>
<div class="callout-body-container callout-body">
<p>I min kod ovan skrev jag <code># l√§ser in Excel data</code> p√• en rad. All text som kommer <em>efter</em> tecknet <code>#</code> √§r en s k <strong>kommentar</strong> i R. Kommentarer ignoreras av R och √§r d√§rf√∂r ett bra s√§tt att skriva sm√• saker som g√∂r koden mer l√§ttl√§st. Du m√•ste ha ett <code>#</code> -tecken framf√∂r varje rad som du vill ‚Äúkommentera ut‚Äù.</p>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Ange s√∂kv√§g till filer som inte √§r i din Working directory
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ist√§llet f√∂r att placera alla filer i din working directory <strong>SDA1</strong> kan man ist√§llet ange s√∂kv√§gen till filen n√§r man l√§ser in den. Om jag t ex har sparat filen i mappen <strong>Downloads</strong> p√• en Windows-dator s√• skriver jag <strong><br>
</strong><code>stockdata = read.xlsx('C:/Downloads/stock.xlsx', sheet = 1)</code></p>
</div>
</div>
<section id="uppgift-6.1" class="level4">
<h4 class="anchored" data-anchor-id="uppgift-6.1">üí™ Uppgift 6.1</h4>
<p>Prova att ladda ner Excelfilen stock.xlsx och spara den i SDA1 mappen. L√§s sen in filen i R med kommandot <code>stockdata = read.xlsx('stock.xlsx', 1, colNames=TRUE)</code> . Skriv sen <code>head(stockdata)</code> i Console f√∂r att titta p√• data.<br>
Prova nu att l√§sa in data med kommandot <code>stockdata = read.xlsx('stock.xlsx', 1, colNames=FALSE)</code> och notera skillnaden genom att √•terigen skriva <code>head(stockdata)</code> i Console.</p>
</section>
<section id="uppgift-6.2" class="level4">
<h4 class="anchored" data-anchor-id="uppgift-6.2">üí™ Uppgift 6.2</h4>
<p>√Ñndra v√§rdet p√• variabeln <code>returns</code> √•r 2023 till 0.05 i stockdata tabellen genom att skriva <code>stockdata[6,3] = 0.05</code> i Console. Det h√§r kommandot l√§ser R som:</p>
<blockquote class="blockquote">
<p>V√§rdet i tabellen <code>stockdata</code> p√• rad 6 och kolumn 3 ska √§ndras till (tilldelas) v√§rdet 0.05.</p>
</blockquote>
<p>Prova att skriva <code>stockdata</code> i Console f√∂r att kontrollera att v√§rdet faktiskt √§ndrades.</p>
</section>
<section id="uppgift-6.3" class="level4">
<h4 class="anchored" data-anchor-id="uppgift-6.3">üí™ Uppgift 6.3</h4>
<p>Spara den √§ndrade stockdata-tabellen till disk genom att skriva f√∂ljande kommando i Console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(stockdata, <span class="at">file=</span><span class="st">"stockdata2.Rdata"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>vilket sparar den √§ndrade <code>stockdata</code> tabellen till filen <code>stockdata2.Rdata</code> i din working directory (<strong>SDA1</strong>-mappen). Filformatet <code>Rdata</code> √§r R‚Äôs eget filformat. Du kan i en senare session l√§sa in stockdata enkelt genom kommandot</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"stockdata2.Rdata"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>vilket kommer l√§sa in tabellen <code>stockdata</code> i R‚Äôs arbetsminne.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
L√§sa in data fr√•n andra filformat √§n Excel
</div>
</div>
<div class="callout-body-container callout-body">
<p>Datamaterial kan ocks√• komma fr√•n rena textfiler (<code>.txt</code>) och s k <code>csv</code> filer. Se <a href="../../tutorials/ReadingDataFromFile/ReadingDataFromFile.qmd">reading data from a file</a>.</p>
</div>
</div>
</section>
</section>
<section id="analysera-data" class="level2">
<h2 class="anchored" data-anchor-id="analysera-data">7. Analysera data</h2>
<p>N√§r du har l√§st in datamaterialet i minnet s√• √§r det dags att analysera det. L√•t oss g√∂ra en enkel graf av variabeln <code>capital</code> √∂ver √•ren (<code>year</code>):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(capital <span class="sc">~</span> year, <span class="at">data =</span> stockdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="DatorLab1_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>H√§r har vi anv√§nt funktionen <code>plot()</code> med tv√• argument. Argumentet <code>capital ~ year</code> talar om f√∂r <code>plot()</code> att den ska g√∂ra en graf (‚Äòplotta‚Äô) variabeln capital p√• y-axeln och variabeln year p√• x-axeln. Vi s√§ger att vi ‚Äòplottar capital <strong>mot</strong> year‚Äô. Men <code>capital</code> och <code>year</code> √§r faktiskt inte variabler i Rs arbetsminne. D√§r finns bara en tabell (dataframe) som heter <code>stockdata</code> med kolumner som heter <code>capital</code> och <code>year</code>. S√• vi m√•ste tala om f√∂r <code>plot()</code> att vi vill h√§mta variablerna <code>capital</code> och <code>year</code> fr√•n datamaterialet/tabellen/dataframe <code>stockdata</code>, vilket √§r precis vad som h√§nder i det andra argumentet <code>data = stockdata</code>. Tecknet <strong>~</strong> brukar l√§sa som <strong>tilde</strong> och kan skrivas genom tangenterna <code>Alt gr</code> och tangenten till v√§nster om <code>Enter</code>.<br>
S√• kommandot<br>
<br>
<code>plot(capital ~ year, data = stockdata)</code><br>
<br>
l√§ses av R som</p>
<blockquote class="blockquote">
<p>plotta variabeln <code>capital</code> mot variabeln <code>year</code>, d√§r b√•de dessa variabler √§r kolumner i datamaterialet <code>stockdata</code>.</p>
</blockquote>
<p>Om vi vill ber√§kna medelv√§rdet p√• en variabel kan vi anv√§nda funktionen <code>mean()</code>. Men om vi vill ber√§kna medelv√§rdet av variabeln <code>capital</code> med kommandot <code>mean(capital)</code> s√• f√•r vi problemet att R inte har en variabel <code>capital</code> i minnet; <code>capital</code> √§r ju bara en kolumn i datamaterialet <code>stockdata</code>. Hur s√§ger vi till R: g√∂r om kolumnen <code>capital</code> i datamaterialet <code>stockdata</code> till en egen variabel och ber√§kna dess medelv√§rde (mean p√• engelska). L√∂sningen att anv√§nda <code>$</code>-tecknet f√∂r att plocka ut kolumnen <code>returns</code> som en egen variabel: <code>stockdata$capital</code> och sen anv√§nda <code>mean()</code> funktionen. Vi kan g√∂ra detta p√• samma kodrad och skriva ut resultatet:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>capital <span class="ot">=</span> <span class="fu">mean</span>(stockdata<span class="sc">$</span>capital)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>capital</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 113.6381</code></pre>
</div>
</div>
<p>Kodraden mean<code>capital = mean(stockdata$capital)</code> s√§ger allts√• till R att</p>
<blockquote class="blockquote">
<p>Plocka ut kolumnen <code>capital</code> fr√•n datamaterialet <code>stockdata</code> och ber√§kna dess medelv√§rde.</p>
</blockquote>
<p>Genom att explicit plocka ut kolumner p√• detta s√§tt kan vi g√∂ra grafen med ett lite annorlunda kommando:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> stockdata<span class="sc">$</span>year, <span class="at">y =</span> stockdata<span class="sc">$</span>capital)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="DatorLab1_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>d√§r vi inte l√§ngre m√•ste anv√§nda argumentet <code>data = stockdata</code> f√∂r att tala om var dessa variabler kommer fr√•n. Men det f√∂rra kommandot <code>plot(capital ~ year, data = stockdata)</code> √§r nog √§nd√• mer l√§ttl√§st, tycker jag.</p>
<section id="uppgift-7.1" class="level4">
<h4 class="anchored" data-anchor-id="uppgift-7.1">üí™ Uppgift 7.1</h4>
<p>L√§s √•terigen in data med <code>stockdata = read.xlsx('stock.xlsx', sheet = 1)</code>. G√∂r en graf d√§r du plottar variabeln <code>returns</code> mot <code>year</code>.</p>
<p>H√§r √§r hela koden i ett stycke:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">'/home/mv/Dropbox/Teaching/SDA1/datorlab/lab1'</span>) <span class="co"># I have a Linux computer and my data is in this path</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(openxlsx)                         </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>stockdata <span class="ot">=</span> <span class="fu">read.xlsx</span>(<span class="st">'stock.xlsx'</span>, <span class="at">sheet =</span> <span class="dv">1</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>stockdata <span class="ot">=</span> <span class="fu">data.frame</span>(stockdata)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>meancapital <span class="ot">=</span> <span class="fu">mean</span>(stockdata<span class="sc">$</span>capital)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(capital <span class="sc">~</span> year, <span class="at">data =</span> stockdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="DatorLab1_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Notera att vi kan skriva <strong>kommentarer</strong> i koden genom tecknet <code>#</code> innan kommentaren. Allt efter tecknet <code>#</code> ignoreras av R n√§r den l√§ser koden. Det kan vara ett bra s√§tt att f√∂rklara en kodrad f√∂r anv√§ndaren.</p>
</section>
</section>
<section id="n√•gra-extra-tips" class="level2">
<h2 class="anchored" data-anchor-id="n√•gra-extra-tips">8. N√•gra extra tips</h2>
<ul>
<li>Om du trycker p√• ‚Äòpil-upp‚Äô ‚çê tangenten i Console s√• kan du stega dig tillbaka till <strong>gamla kommandon</strong> som du har skrivit.</li>
<li>Om du vill <strong>st√§da upp i Console</strong> kan du skriva <code>Ctrl + l</code> f√∂r att rensa Console fr√•n text (dvs ett litet L). Dina variabler blir kvar i arbetsminnet.</li>
<li><strong>History</strong>-fliken uppe till h√∂ger i RStudio visar alla tidigare kommandon.</li>
<li><strong>Environment</strong>-filken uppe till h√∂ger i RStudio ger dig information om de datamaterial och variabler som R har i arbetsminnet. Prova genom att definiera en ny variabel <code>c=100</code> i Console och hur den dyker upp i <strong>Environment</strong>-fliken. Prova att klicka p√• den bl√• pilen framf√∂r stockdata, du kommer se kolumnerna i det datamaterialet.</li>
<li><strong>Files</strong>-fliken nere till h√∂ger i RStudio √§r en inbyggd filhanterare. Den visar filerna i ditt working directory och du kan √§ven hantera filer d√§r (ta bort, d√∂pa om osv).</li>
<li>I <strong>Help</strong>-fliken kan du s√∂ka p√• hj√§lp p√• olika kommandon. Prova att skriva in <code>mean</code>. Du kan √§ven f√• hj√§lp genom att skriva t ex <code>?mean</code> i Console.</li>
</ul>
</section>
<section id="datastrukturer" class="level2">
<h2 class="anchored" data-anchor-id="datastrukturer">9. Datastrukturer</h2>
<p>R kan spara data i olika <strong>datastrukturer</strong>. Vi definerade tidigare variabeln <code>kapital</code> och tilldela denna variabel v√§rdet <code>100</code> genom kommandot <code>kapital = 100</code>.</p>
<p>Ofta vill man spara mer √§n ett tal i samma datastruktur. Ett s√§tt √§r att skapa en <strong>vektor</strong> med kommandot <code>c()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>capital_all_years <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">100</span>,<span class="dv">110</span>,<span class="fl">116.6</span>,<span class="fl">111.936</span>,<span class="fl">117.532</span>,<span class="fl">125.760</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Den nya variabel <code>capital_all_years</code> inneh√•ller allts√• kapitalet f√∂r alla √•r. Men om jag skulle vilja ‚Äòplocka ut‚Äô kapitalets v√§rde vid det tredje √•ret? D√• kan man indexera vektorn genom hakparenteser (brackets) <code>[]</code>, s√• h√§r:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>capital_all_years[<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 116.6</code></pre>
</div>
</div>
<p>Man kan ocks√• plocka ut flera v√§rden samtidigt, t ex √•r 3 och 5, med kommandot</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>capital_all_years[<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">5</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 116.600 117.532</code></pre>
</div>
</div>
<p>Notera att vi indexerade med en vektor, dvs vi anv√§nde <code>c()</code> kommandot eftersom vi vill tala om f√∂r R att plocka ut fler √§n ett v√§rde.</p>
<p>Vi har redan sett en av Rs viktigaste datatyper: en s k <strong>dataframe</strong>. En dataframe √§r en tabell med information om vad kolumnerna heter, och ibland √§ven vad raderna heter. Ett exempel √§r v√•r <code>stockdata</code> som √§r dataframe med tre kolumner: year, capital och stock. Vi kan se att det √§r en dataframe genom att anv√§nda kommandot <code>class()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(stockdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
</div>
<p>Vi har faktiskt redan anv√§nt id√©en med att plocka ut v√§rden genom indexing in dataframes tidigare n√§r vi skrev <code>stockdata[6,3]</code> f√∂r att plocka ut v√§rdet p√• rad 6 och kolumn 3 i tabellen/dataframe. Och vi s√•g att vi ocks√• kunde √§ndra v√§rdena i tabellen genom tilldelning: <code>stockdata[6,3]=0.05</code> . Samma sak kan man g√∂ra med en vektor, t ex s√• g√∂r kommandot <code>capital_all_years[5] = 200</code> att vi √§ndrar kapitalet √•r 5 till 200 i v√•r vektor som inneh√•ller alla √•rs kapital.</p>
<p>Det finns en annan slags tabell som kan vara bra att k√§nna till i R, en s k <strong>matris</strong> (eng. Matrix). Matriser √§r som dataframes, men inneh√•ller inte information om namnet p√• kolumnerna. √Ö andra sidan kan man g√∂ra matematiska ber√§kningar med hela matriser, men det √§r inget vi g√∂r p√• denna kurs. Anledningen till att vi n√§mner matriser h√§r √§r att man ibland m√•ste g√∂ra om en matris till en dataframe eller tv√§rtom. Vissa R-program vi bara jobba med dataframes och klagar om man f√∂rs√∂ker f√• det att jobba med en matris. L√•t oss skapa en matris som jag kallar <code>A</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">=</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">11</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">62</span>,<span class="dv">3</span>), <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]   11    5
[2,]    2   62
[3,]    4    3</code></pre>
</div>
</div>
<p>vilket √§r en matris (tabell) med 3 rader och 2 kolumner (som vi skapar fr√•n en vektor med 6 tal). Om vi anv√§nder <code>class()</code>-kommandot s√• ser vi att A mycket riktigt √§r en matrix, vilket √§r engelska f√∂r matris:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "matrix" "array" </code></pre>
</div>
</div>
<p>Om vi vill g√∂ra om en matris till en dataframe s√• anv√§nder vi kommandot</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>B <span class="ot">=</span> <span class="fu">as.data.frame</span>(A)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  V1 V2
1 11  5
2  2 62
3  4  3</code></pre>
</div>
</div>
<p>d√§r R best√§mmer att kolumnerna ska heta V1 och V2 (en dataframe m√•ste ha namn p√• kolumnerna i tabellen). B √§r allts√• nu en dataframe, vilket man kan testa genom:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(B)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
</div>
<p>En annan viktigt datatyp vi vill n√§mna √§r en s k <strong>str√§ng</strong> (eng. string), vilket kallas f√∂r <code>character</code> i R och √§r en variabel som inneh√•ller text. V√§rdet p√• en str√§ng-variabel skriv innanf√∂r citattecken:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>mittnamn <span class="ot">=</span> <span class="st">"mattias"</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mittnamn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>Man kan √§ven anv√§nda enkla ‚Äòblippar‚Äô kring str√§ngens v√§rde, dvs <code>mittnamn = 'mattias'</code>.</p>
<p>Om vi t ex anv√§nder <code>names()</code> kommandot p√• v√•r <code>stockdata</code> dataframe s√• f√•r vi en vektor med str√§ngar (en vektor eftersom det finns fler √§n ett kolumnnamn i <code>stockdata</code>):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(stockdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "year"    "capital" "returns"</code></pre>
</div>
</div>
<p>Slutligen finns datatypen <code>list</code> i R. En list (eller lista p√• svenska) √§r en vektor p√• steroider. En vanlig vektor m√•ste inneh√•lla <em>data av samma sort</em>, t ex en vektor med numeriska tal <code>x = c(1,4,5)</code> eller en vektor med str√§ngar (text): <code>c("mattias","adam","elma")</code> . En lista √§r mer generell och kan inneh√•lla data av olika sort:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>my_list <span class="ot">=</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="dv">2</span>, <span class="at">b =</span> <span class="st">"hej"</span>, <span class="at">d =</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">2</span>))</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>my_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$a
[1] 2

$b
[1] "hej"

$d
[1] 4 5 2</code></pre>
</div>
</div>
<p>Jag kan d√∂pa elementen i listan vad jag vill, h√§r kallade jag dem <code>a</code>, <code>b</code> och <code>d</code> (jag vill undvika bokstaven c eftersom det √§r symbolen f√∂r att skapa vektorer). Notera att elementet <code>a</code> inneh√•ller ett enda tal, <code>b</code> en str√§ng och <code>d</code> en vektor med tre tal. I utskriften ser man ocks√• att det olika listelementen med ett $-tecken framf√∂r. F√∂r att t ex plocka ut listelementet <code>d</code> kan man n√§mligen skriva</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>my_list<span class="sc">$</span>d</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 5 2</code></pre>
</div>
</div>
<p>K√§nns det bekant med $-tecken f√∂r att plocka ut saker? Vi har redan sett att man kan plocka ut en kolumn i en dataframe (tabell) genom att skriva t ex <code>stockdata$returns</code> . En dataframe √§r n√§mligen egentligen en slags lista.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Hitta l√§tt bland alla fickor
</div>
</div>
<div class="callout-body-container callout-body">
<p>Om du skriver <code>my_list$</code> (inklusive $-tecknet) i Console kommer det att dyka upp en lista med alla element som finns i listan <code>my_list</code>. Anv√§nd pil-tangenterna (upp och ned) f√∂r att v√§lja det element du √§r intresserad av och tryck Enter. ü§©</p>
</div>
</div>
<p>Vi ska slutligen presentera ytterligare en viktig datatyp i R: <code>factor</code>. Prova att skriva in kommandot <code>str(stockdata)</code> i Console. Kommandot returnerar variablernas namn och datatyper, vilket ju √§r <code>numeric</code> f√∂r alla v√•ra tre kolumner <code>year</code>, <code>capital</code> och <code>returns</code> i tabellen. Men tabellkolumner kan best√• av bokst√§ver (str√§ngar) eller <strong>kategoriska variabler</strong> (t ex <code>man</code> och <code>kvinna</code>). Kategoriska variabler kallas f√∂r <strong>faktorvariabler</strong> i R.</p>
<p>R har ett antal inbyggda datamaterial, t ex datamaterialet <code>warpbreaks</code> som inneh√•ller information om antalet fel (<code>breaks</code>) vid v√§vning f√∂r tv√• olika typer av garn (<code>wool</code>) och tre olika sp√§nningar av v√§vstolen (<code>tension</code>). Vi b√∂rjar med att tilldela datamaterialet till variabeln garndata genom att skriva <code>garndata = warpbreaks</code> i Console. Skriv <code>head(garndata)</code> f√∂r en snabb titt p√• de f√∂rsta observationerna. Som du ser √§r <code>breaks</code> en numerisk variabel (eller snarare en kolumn in tabellen), men b√•de <code>wool</code> och <code>tension</code> √§r kategoriska faktorvariabler (<code>wool</code> kan bara vara av garntyp <code>A</code> eller <code>B</code>, och tension kan vara l√•g (<code>L</code>), mellan (<code>M</code>) eller h√∂g (<code>H</code>)). Vi kan se detta mer exakt genom att skriva <code>str(garndata)</code> i Console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>garndata <span class="ot">=</span> warpbreaks</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(garndata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   54 obs. of  3 variables:
 $ breaks : num  26 30 54 25 70 52 51 26 67 18 ...
 $ wool   : Factor w/ 2 levels "A","B": 1 1 1 1 1 1 1 1 1 1 ...
 $ tension: Factor w/ 3 levels "L","M","H": 1 1 1 1 1 1 1 1 1 2 ...</code></pre>
</div>
</div>
<p>d√§r vi ser att <code>wool</code> √§r en faktorvariabel med tv√• olika v√§rden (<strong>levels</strong>, eller <strong>niv√•er</strong> p√• svenska), medan <code>tension</code> har tre niv√•er. Vi ser √§ven att <code>breaks</code> √§r en numerisk variabel. Vi kan √§ven se denna information i den √∂vre h√∂gra panelen i R under fliken <strong>Environment</strong> genom att klicka p√• den lilla pilen p√• <code>garndata</code>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="environmentR.png" class="img-fluid figure-img" width="503"></p>
</figure>
</div>
</section>
<section id="funktioner" class="level2">
<h2 class="anchored" data-anchor-id="funktioner">10. Funktioner</h2>
<p>Vi har sett id√©n med funktioner tidigare: en funktion <em>g√∂r</em> n√•got med data. I matematikens v√§rld √§r en funktion <span class="math inline">\(f\)</span> en slags maskin som anv√§nder en <strong>input</strong> <span class="math inline">\(x\)</span>, g√∂r n√•gra matematiska ber√§kningar, och ger tillbaka en <strong>output</strong> <span class="math inline">\(y\)</span>. Vi brukar skriva funktionen som <span class="math inline">\(y=f(x)\)</span>.</p>
<p>En funktion i R √§r en liknande sak: den anv√§nder ett eller flera inputs och ger tillbaka ett eller flera outputs. Det kan handla om ren matematisk funktion, som kvadratroten <span class="math inline">\(\sqrt{x}\)</span> av ett tal <span class="math inline">\(x\)</span>, vilket i R ber√§knas av funktionen <code>sqrt</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="dv">4</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">=</span> <span class="fu">sqrt</span>(x)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>men det kan ocks√• vara n√•got mer komplicerat som t ex att l√§sa in data fr√•n en Excel-fil:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>stockdata <span class="ot">=</span> <span class="fu">read.xlsx</span>(<span class="st">'stock.xlsx'</span>, <span class="at">sheet =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>d√§r <code>read.xlsx</code> √§r en funktion som tre input-argument filnamn (som en str√§ng!), talet 1 f√∂r att vi vill l√§sa det f√∂rsta bladet. Funktionen <code>read.xlsx</code> ger tillbaka en (tibble) dataframe som output med data.</p>
<p>Det fina med programmeringsspr√•k √§r att man kan <strong>skapa egna funktioner</strong> som g√∂r just det jobb som man beh√∂ver. Om jag t ex vill skapa en funktion som ber√§knar r√§nta-p√•-r√§nta effekten p√• ett sparkapital (med samma r√§nta varje √•r) s√• kan jag skriva ihop f√∂ljande funktion:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>capital_interest <span class="ot">&lt;-</span> <span class="cf">function</span>(capital, interest, years){</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  newcapital <span class="ot">=</span> capital<span class="sc">*</span>interest<span class="sc">^</span>years</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(newcapital)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>N√•gra saker att notera:</p>
<ul>
<li><p>Man anv√§nder alltid ordet <code>function</code> d√§r att definiera en funktion.</p></li>
<li><p>Funktionens input-argument skrivs inom parenteser. Vilka namn du v√§ljer √§r helt fritt, men det m√•ste vara samma variabelnamn som du sedan anv√§nder innanf√∂r de s k m√•svingarna <code>{}</code> som inneh√•ller den faktiska koden som g√∂r jobbet.</p></li>
<li><p>Funktionen tilldelas en variabel som jag gett namnet <code>capital_interest</code> , vilket √§r ett namn du v√§ljer helt sj√§lv.</p></li>
<li><p>Koden anv√§nder r√§nta-p√•-r√§nta formeln <span class="math inline">\(capital\cdot interest^{years}\)</span> , dvs r√§ntan, angett som 1.1 om du f√•r 10% r√§nta, upph√∂js i antal sparande√•r. Upph√∂jt skrivs som <code>^</code> i R.</p></li>
<li><p>Funktionen avslutar med ordet <code>return</code> och den variabel du vill att funktionen ska ge tillbaka som output.</p></li>
</ul>
<p>Om jag sen vill anv√§nda min funktion f√∂r att se hur min hundring p√• banken kommer att utvecklas under 20 √•r med 5% r√§nta s√• skriver jag (jag <strong>anropar</strong> funktionen):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>my_money <span class="ot">=</span> <span class="fu">capital_interest</span>(<span class="dv">100</span>, <span class="fl">1.05</span>, <span class="dv">20</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>my_money</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 265.3298</code></pre>
</div>
</div>
<p>Vi sa ovan att vi tilldelade variabeln <code>capital_interest</code> en funktion. ü§Ø Wait, what? Jo, faktiskt, om vi unders√∂ker vilken typ av variabel <code>capital_interest</code> √§r s√• √§r det faktiskt en funktion:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(capital_interest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "function"</code></pre>
</div>
</div>
<p>N√§r vi skrev variabel <code>kapital</code> i Console skrev den ut v√§rdet, t ex 100. Vad h√§nder om vi g√∂ra samma sak med v√•r funktionsvariabel <code>capital_interest</code> ? Hela funktionen skrivs ut som text!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a> capital_interest </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function(capital, interest, years){
  newcapital = capital*interest^years
  return(newcapital)
}</code></pre>
</div>
</div>
<p>Vi kommer inte att skriva egna funktioner p√• kursen. Men du kommer att anv√§nda funktioner. Och d√• kan det vara bra att veta att n√•gon har skrivit dessa funktioner p√• precis det s√§tt som vi skapade funktionen <code>capital_interest</code> ovan.</p>
<p>En sista sak: vissa funktioner har inga inputargument och ibland inte heller n√•gra outputs. Det betyder inte att funktionen inte g√∂r n√•got, utan den har ist√§llet vissa sido-effekter som inte alltid syns. <code>setwd</code> √§r t ex funktion som har s√∂kv√§gen som input, men har inga output, men d√§remot sidoeffekten att √§ndra working directory. Funktionen <code>getwd()</code> har inga input-argument men ger tillbaka din nuvarande working directory som output.</p>
</section>
<section id="tre-dialekter-av-r" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="tre-dialekter-av-r">11. Tre dialekter av R</h2>
<p>Man kan dela upp R‚Äôs spr√•k i tre slags dialekter, dvs tre olika kommandon (syntax) f√∂r att g√∂ra ungef√§r samma sak:</p>
<ul>
<li><strong>Base-R</strong> - den ursprungliga syntaxen in R</li>
<li><strong>Formula syntax</strong> - syntax som via paketet <code>Mosaic</code> har utvecklats f√∂r undervisning i statistik</li>
<li><strong>Tidyverse</strong> - en modern syntax utvecklat av personerna bakom RStudio.</li>
</ul>
<center>
<p><a href="../../R/cheatsheets/base-r_cheat_sheet.pdf"><img src="../../misc/hexagons/figs/base_r_hexagon.svg" class="img-fluid" width="60"></a>&nbsp; <a href="../../R/cheatsheets/mosaic_cheatsheet_gf.pdf"><img src="../../misc/hexagons/figs/mosaic_hexagon.svg" class="img-fluid" width="60"></a>&nbsp; <a href="../../R/cheatsheets/ggplot2_cheatsheet.pdf"><img src="../../misc/hexagons/figs/tidyverse_hexagon.svg" class="img-fluid" width="60"></a></p>
</center>
<p><br></p>
<p>I SDA1 kommer vi f√∂rs√∂ka anv√§nda Formula syntax som mycket som m√∂jligt, med inslag av Base-R. Tidyverse-kod kan ofta vara extremt effektiv, men tar f√∂r l√•ng tid att l√§ra sig p√• en grundkurs i statistik. Vi kommer dock d√• och d√• att visa hur man g√∂r samma sak i de olika dialekterna, men p√• ett s√§tt som inte st√∂r fl√∂det f√∂r den student som helst vill h√•lla sig till ett s√§tt. Vi anv√§nder ikoner som du som student kan klicka p√• f√∂r att se ett kommando i olika dialekter. H√§r √§r ett exempel (prova att klicka ikonerna i h√∂ger-marginalen):</p>
<p>I Formula syntax har vi redan sett att vi kan g√∂ra en scatter plot med kommandot</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mpg <span class="sc">~</span> hp, <span class="at">data =</span> mtcars, <span class="at">main =</span> <span class="st">"Cars fuel usage"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="DatorLab1_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<p><a href="../../R/BaseRSyntax.qmd#scatter-plot"><img src="../../misc/hexagons/figs/base_r_hexagon.svg" class="img-fluid" width="60"></a> <a href="../../R/TidyverseSyntax.qmd#scatter-plot"><img src="../../misc/hexagons/figs/tidyverse_hexagon.svg" class="img-fluid" width="60"></a></p>
</div></div><p>Om man vill ha plottar som liknar de fina plottarna i Tidyverse, men forts√§tta att skriva den enklare formula-syntaxen s√• kan man anv√§nda paketet <code>ggformula</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggformula)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_point</span>(mpg <span class="sc">~</span> hp, <span class="at">data =</span> mtcars, <span class="at">title =</span> <span class="st">"Cars fuel usage"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="DatorLab1_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="sammanfattning" class="level2">
<h2 class="anchored" data-anchor-id="sammanfattning">12. Sammanfattning</h2>
<div class="callout-info callout callout-style-default no-icon callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
I den h√§r laborationen har du l√§rt dig:
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>Anv√§nda R som en minir√§knare.</p></li>
<li><p>Anv√§nda variabler som ett s√§tt att spara v√§rden i en session.</p></li>
<li><p>S√§tta working directory s√• R kan hitta dina filer.</p></li>
<li><p>Skriva kod b√•de i Console och Editorn.</p></li>
<li><p>L√§sa in data fr√•n fil och g√∂ra inledande grafer och medelv√§rdeber√§kningar f√∂r dataanalys.</p></li>
<li><p>Vi har ocks√• tittat p√• datastrukturer i R och t o m nosat lite p√• funktioner i R.</p></li>
</ul>
</div>
</div>
<p><br><br></p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
End of the line
</div>
</div>
<div class="callout-body-container callout-body">
<p>Om du har kommit hit utan att slita ditt h√•r alltf√∂r m√•nga g√•nger s√• tycker jag att du ska vara v√§ldigt n√∂jd med dig sj√§lv. Du har redan l√§rt dig massor om R. Ditt framtida jag kommer att tacka dig!</p>
<p>Ta nu en ‚òï och en üç∞ f√∂r att fira!</p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="states-of-a-programmer.png" class="img-fluid figure-img" width="550"></p>
<p></p><figcaption class="figure-caption">https://devcamp.com/site_blogs/top-5-programming-memes</figcaption><p></p>
</figure>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://www.su.se/statistiska-institutionen/">Department of Statistics - Stockholm University</a>
  </li>  
</ul>
    </div>   
      <div class="nav-footer-center">
        <ul class="footer-items list-unstyled">
    <li class="nav-item">
 Use our course!
  </li>  
</ul>
      </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/StatisticsSU/STM">
      <i class="bi bi-github" role="img" aria-label="Quarto GitHub">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>